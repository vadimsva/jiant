(function(){var h,l={version:function(){return 19},ctl2state:function(a,b,c,d){return function(){a.click(function(){d?d(b):b.go()});c&&b.start(function(){a.addClass(c)});c&&b.end(function(){a.removeClass(c)})}},nav:function(a,b,c,d,e){return function(){c=c?c:"";$.each(a.states,function(a,k){var f=b[a+c];f&&jiant.xl.ctl2state(f,k,d,e)()})}},statefulViews:function(a,b){return function(){function c(a){a.start(function(){$.isArray(b)?$.each(b,function(a,b){b.show()}):b.show()});a.end(function(){$.isArray(b)?
$.each(b,function(a,b){b.hide()}):b.hide()})}$.isArray(a)?$.each(a,function(a,b){c(b)}):c(a)}},statefulApp:function(a,b,c){return function(){b=b?b:"";$.each(a.states,function(c,e){var g=a.views[c+b];g&&jiant.xl.statefulViews(e,g)()});a.states[""]&&c&&a.states[""].start(function(){c.go()})}},bindList:function(a,b,c,d){function e(a){var e=($.isFunction(c)?c(a):c).parseTemplate(a);b.append(e);d&&$.isFunction(a[d])&&a[d](e)}return function(){a.addAll&&a.addAll.on(function(a){$.each(a,function(a,b){e(b)})});
a.add&&a.add.on(e);a.remove&&a.remove.on(function(a){a.view().remove()})}},pagedContent:function(a,b,c,d,e,g,k,f,h){return function(){d&&d.onValueChange(function(b,c){a.go(c,void 0)});a.start(function(a,l){a=a?a:0;parseInt(a)+""!=a&&(jiant.logError("pagedContent expects pageNum as first state parameter, passed: "+a+", recommended fix: make pageNum first argument, now replacing pageNum by 0"),a=0);var m={"page.page":a};h&&l&&(m["page.sort"]=l);b(m,function(a){c.empty();k&&(a.content.length?k.hide():
k.show());$.each(a.content,function(a,b){var d=e.parseTemplate(b);d.propagate(b,!1);c.append(d);g&&g(b,d)});d&&d.updatePager(a);f&&f(a)})})}},renderList:function(a,b,c,d,e){return function(){e&&(a.length?e.hide():e.show());b.empty();$.each(a,function(a,e){var f=c.parseTemplate(e);f.propagate(e,!1);b.append(f);d&&d(e,f,a)})}},confirmedActionBs:function(a,b,c,d,e){return function(){a.click(function(){e&&e();b.modal("show");h=d});!b.firstTimeConfirmation&&c.click(function(){b.modal("hide");h&&h()});
!b.firstTimeConfirmation&&b.on("hidden",function(){h=null});b.firstTimeConfirmation=!0}},saveCtl:function(a,b,c,d){return function(){c=c?c:a;d=d?d:"saving";a.click(function(e){var g=c.html();a.attr("disabled","disabled");c.html(d);b(function(){a.attr("disabled",null);c.html(g)},e)})}},elementVisibilityByEvent:function(a,b){},removeCtl:function(a,b){}};window.jiant&&window.jiant.xl&&window.jiant.xl.version&&window.jiant.xl.version()>=l.version()||(window.jiant.xl=l)})();
